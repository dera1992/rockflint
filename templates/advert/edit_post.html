{% extends "base.html" %}
{% load static %}
{% load bootstrap4 %}
{% load i18n %}

{% block title %}Edit your property{% endblock %}

{% block content %}
    <div class="page-title">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12">
                    <nav aria-label="breadcrumb">
                      <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="{% url 'home:home' %}"><span style="font-weight:bold;">Home</span></a></li>
                        <li class="breadcrumb-item active" aria-current="page"><span style="font-weight:bold;">Edit Property</span></li>
                      </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================ Page Title End ================================== -->

     <!-- ============================ Submit Property Start ================================== -->
    <section>

        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12">

                </div>

                <!-- Submit Form -->
                <div class="col-lg-12 col-md-12">

                    <div class="submit-page">
                    <form  id="signup_form" method="post" data-cities-url="{% url 'advert:ajax_load_cities' %}" action="{% url 'advert:edit_post' %}" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Basic Information -->
                        <div class="form-submit">
                            <h3>Basic Information</h3>
                            <div class="submit-section">
                                <div class="form-row">

                                    <div class="form-group col-md-12">
                                        {% bootstrap_field postForm.property_title %}
                                    </div>

                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.category %}
                                    </div>

                                    <div class="form-group col-md-6">
                                         {% bootstrap_field postForm.property_offer %}
                                    </div>

                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.property_price %}
                                    </div>

                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.property_area %}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.rent_period %}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.property_room %}
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- Gallery -->
                        <div class="form-submit">
                            <h3>Gallery</h3>
                            <div class="submit-section">
                                <div class="form-row">
                                {% for form in formset %}
                                    <div class="form-group col-md-4">
                                        {{ form.as_table }}
                                    </div>
                                {% endfor %}
                                {{ formset.management_form }}
                                </div>
                            </div>
                        </div>

                        <!-- Location -->
                        <div class="form-submit">
                            <h3>Location</h3>
                            <div class="submit-section">
                                <div class="form-row">

                                    <div class="form-group col-md-12">
                                        {% bootstrap_field postForm.address %}
                                    </div>
                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.state %}
                                    </div>

                                    <div class="form-group col-md-6">
                                        {% bootstrap_field postForm.city %}
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- Detailed Information -->
                        <div class="form-submit">
                            <h3>Detailed Information</h3>
                            <div class="submit-section">
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        {% bootstrap_field postForm.description %}
                                    </div>
                                    <div class="form-group col-md-4">
                                        {% bootstrap_field postForm.building_age %}
                                    </div>

                                    <div class="form-group col-md-4">
                                        {% bootstrap_field postForm.condition %}
                                    </div>
                                    <div class="form-group col-md-4">
                                        {% bootstrap_field postForm.bedroom%}
                                    </div>
                                    <div class="form-group col-md-4">
                                        {% bootstrap_field postForm.bathroom%}
                                    </div>
                                    <div class="form-group col-md-4">
                                        {% bootstrap_field postForm.lot_size%}
                                    </div>

                                    <div class="form-group col-md-12">
                                        <h4><label>Close To Property</label></h4>

                                        <div class="form-row">

                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.church%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.school%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.mosque%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.market%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.hospital%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.resturant%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                   {% bootstrap_field postForm.beach%}
                                                </div>


                                        </div>
                                    </div>

                                    <div class="form-group col-md-12">
                                        <h4><label>Other Features</label></h4>

                                        <div class="form-row">
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.parking%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                   {% bootstrap_field postForm.sewer%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                   {% bootstrap_field postForm.water%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.lawn%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                   {% bootstrap_field postForm.barbecue%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.tv_cable%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.microwave%}
                                                </div>
                                               <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.wi_fi%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.gym%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                    {% bootstrap_field postForm.swimming_pool%}
                                                </div>
                                                <div class="form-group col-md-4">
                                                   {% bootstrap_field postForm.air_conditioning%}
                                                </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!-- Contact Information -->
                        <div class="form-submit">
                            <h3>Plan</h3>
                            <div class="submit-section">
                                <div class="form-row">

                                    <div class="form-group col-md-12">
                                        {% bootstrap_field postForm.plan_image%}
                                    </div>


                                </div>
                            </div>
                        </div>

                        <div class="form-group col-lg-12 col-md-12">
                            <button class="btn btn-theme" type="submit">Submit</button>
                        </div>
                    </form>
                    </div>

                </div>

            </div>
        </div>

    </section>
    <!-- ============================ Submit Property End ================================== -->


    <script>
    $("#id_state").change(function () {
      var url = $("#personForm").attr("data-cities-url");  // get the url of the `load_cities` view
      var stateId = $(this).val();  // get the selected country ID from the HTML input

      $.ajax({                       // initialize an AJAX request
        url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
        data: {
          'state': stateId       // add the country id to the GET parameters
        },
        success: function (data) {   // `data` is the return of the `load_cities` view function
          $("#id_city").html(data);  // replace the contents of the city input with the data that came from the server
        }
      });

    });
  </script>
{% endblock %}